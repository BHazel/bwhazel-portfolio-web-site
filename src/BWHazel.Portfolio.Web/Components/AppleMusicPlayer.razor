@if (this.AlbumId != 0 && !string.IsNullOrWhiteSpace(this.AlbumSlug))
{
    <iframe id="embedPlayer"
            height="@this.Height"
            width="@this.Width%"
            title="Media player"
            src="@($"https://embed.music.apple.com/gb/album/{this.AlbumSlug}/{this.AlbumId}?itscg={this.ItscgToken}&itsct=music_box_player&ls=1&app=music&mttnsubad={this.AlbumId}&theme=auto")"
            sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
            allow="autoplay *; encrypted-media *; clipboard-write"
            style="border: 0px; border-radius: 12px; width: @this.Width%; height: @(this.Height)px; max-width: 660px;">
    </iframe>
}
else
{
    <MudAlert Severity="Severity.Error">
        <strong>An error occurred displaying the Apple Music player:</strong><br />
        The album ID and slug are required.
    </MudAlert>
}

@code {
    /// <summary>
    /// Gets or sets the height.
    /// </summary>
    [Parameter]
    public int Height { get; set; } = 450;
    
    /// <summary>
    /// Gets or sets the width as a percentage.
    /// </summary>
    [Parameter]
    public int Width { get; set; } = 100;
    
    /// <summary>
    /// Gets or sets the album ID.
    /// </summary>
    [Parameter]
    public int AlbumId { get; set; }

    /// <summary>
    /// Gets or sets the album slug.
    /// </summary>
    [Parameter]
    public string AlbumSlug { get; set; } = string.Empty;
    
    /// <summary>
    /// Gets or sets the ITSCG token.
    /// </summary>
    [Parameter]
    public int ItscgToken { get; set; } = 30200;
}